package main;

import java.awt.Point;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.util.Random;

public class Game implements MouseListener{
	private Bord myBord;
	private Frame myFrame;
	private int precedence;
	private int turn = 1;
	
	public void Start(Frame frame, Bord bord){
		init();
		frame.addMouseListener(this);
		precedence = setPrecedence(); //先行を決める
		System.out.println("turn: " + turn);
		
		switch(precedence){
			case 0:
				System.out.println("You are black");
				break;
			case 1:
				System.out.println("You are white");
				break;
		}
	}
	
	private void init(Frame frame, Bord bord){
		myFrame = frame;
		myBord = bord;
	}
	
	public int setPrecedence(){
		Random rnd = new Random();
		return rnd.nextInt(2);
	}
	
	public void mouseClicked(MouseEvent e){
		Point point = e.getPoint();
		if (precedence == 0){
			if (frame.put(point.x / 50, (point.y - 26) / 50, Bord.WHITE)){
				System.out.println("turn: " + turn);
				System.out.println("You are black.");
				turn++;
				precedence = 1;
			}
		}else{
			if (frame.put(point.x / 50, (point.y - 26) / 50, Bord.BLACK)){
				System.out.println("turn: " + turn);
				System.out.println("You are white.");
				turn++;
				precedence = 0;
			}
		}
	 }

	  public void mouseEntered(MouseEvent e){}
	  public void mouseExited(MouseEvent e){}
	  public void mousePressed(MouseEvent e){}
	  public void mouseReleased(MouseEvent e){}
}
